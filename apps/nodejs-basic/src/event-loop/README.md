# Event-loop

Node内置的非阻塞函数使用了操作系统的回调和事件处理程序。在你调用一个异步函数时，Node会启动操作，然后在操作系统中注册某种事件处理程序。这样，当操作完成时，它就能收到通知。你传给Node函数的回调会被保存在内部，当操作系统向Node发送相应事件时，Node就可以调用你的回调。

这种并发通常被称为基于事件的并发。其核心是Node用单线程运行一个“事件循环”。当Node程序启动时，它会运行你让它运行的代码。这些代码很可能会至少调用一个非阻塞函数，导致一个回调或事件处理程序被注册到操作系统中（如果没有调用非阻塞函数，那么你写的就是同步Node程序，Node在执行完毕后直接退出）。当Node执行到程序的末尾时，它会一直阻塞直到有事件发生，此时操作系统会再启动并运行它。Node把操作系统事件映射到你注册的JavaScript回调，然后调用该函数。你的回调函数可能会调用更多非阻塞Node函数，导致注册更多事件处理程序。当你的回调函数运行完毕，Node又会进入睡眠状态，如此循环。
